# ðŸŽ¯ ä½¿ç”¨ç¤ºä¾‹

æœ¬æ–‡æ¡£å±•ç¤ºå„ç§åœºæ™¯ä¸‹çš„å®žé™…ä½¿ç”¨æ–¹æ³•å’Œæœ€ä½³å®žè·µã€‚

## ðŸ“‹ ç›®å½•

- [åœºæ™¯ä¸€ï¼šäº§å“ç”¨æˆ·æ»¡æ„åº¦è°ƒæŸ¥](#åœºæ™¯ä¸€äº§å“ç”¨æˆ·æ»¡æ„åº¦è°ƒæŸ¥)
- [åœºæ™¯äºŒï¼šå®¢æœè´¨é‡å›žè®¿](#åœºæ™¯äºŒå®¢æœè´¨é‡å›žè®¿)
- [åœºæ™¯ä¸‰ï¼šæ–°åŠŸèƒ½éœ€æ±‚è°ƒç ”](#åœºæ™¯ä¸‰æ–°åŠŸèƒ½éœ€æ±‚è°ƒç ”)
- [åœºæ™¯å››ï¼šæ–°å‘˜å·¥å…¥èŒè®¿è°ˆ](#åœºæ™¯å››æ–°å‘˜å·¥å…¥èŒè®¿è°ˆ)
- [åœºæ™¯äº”ï¼šè‡ªå®šä¹‰ç®€å•è°ƒæŸ¥](#åœºæ™¯äº”è‡ªå®šä¹‰ç®€å•è°ƒæŸ¥)

---

## åœºæ™¯ä¸€ï¼šäº§å“ç”¨æˆ·æ»¡æ„åº¦è°ƒæŸ¥

### ä½¿ç”¨æ¨¡æ¿
```bash
cp examples/product_feedback.yaml questions.yaml
```

### è®¿è°ˆæµç¨‹æ¼”ç¤º

**1. å¯åŠ¨ç³»ç»Ÿ**
```bash
uv run python interview_client.py
```

**è¾“å‡ºï¼š**
```
ðŸš€ å®¢æˆ·è®¿è°ˆç³»ç»Ÿ
============================================================
ðŸŽµ éŸ³é¢‘è®¾å¤‡åˆå§‹åŒ–æˆåŠŸ
   è¾“å…¥è®¾å¤‡: MacBook Pro Microphone
   è¾“å‡ºè®¾å¤‡: MacBook Pro Speakers
ðŸ”Œ æ­£åœ¨è¿žæŽ¥åˆ° wss://api.stepfun.com/v1/realtime...
âœ… WebSocket è¿žæŽ¥æˆåŠŸï¼
âš™ï¸  ä¼šè¯é…ç½®å®Œæˆ

============================================================
ðŸŽ¤ å®¢æˆ·è®¿è°ˆç³»ç»Ÿå·²å¯åŠ¨ï¼
============================================================

ðŸ“Š è®¿è°ˆé…ç½®:
   æ¨¡åž‹: step-audio-2
   é—®é¢˜æ€»æ•°: 10
   ä¼šè¯ID: 20241118_143052

ä½¿ç”¨è¯´æ˜Žï¼š
  ðŸ“¢ AIä¼šå‘æ‚¨æé—®ï¼Œè¯·å¯¹ç€éº¦å…‹é£Žå›žç­”
  â¸ï¸  æŒ‰ Ctrl+C æå‰ç»“æŸè®¿è°ˆ

============================================================
```

**2. æ¬¢è¿ŽçŽ¯èŠ‚**
```
ðŸ¤– AI: æ‚¨å¥½ï¼æ„Ÿè°¢æ‚¨å‚ä¸Žæˆ‘ä»¬çš„äº§å“ä½“éªŒè°ƒç ”...
```

**3. ç¬¬ä¸€ä¸ªé—®é¢˜**
```
============================================================
ðŸ“ è¿›åº¦: 1/10
ðŸ¤– æé—®: æ‚¨å¥½ï¼æˆ‘æ˜¯äº§å“ä½“éªŒè°ƒç ”åŠ©æ‰‹ã€‚é¦–å…ˆè¯·é—®ï¼Œæˆ‘å¯ä»¥æ€Žä¹ˆç§°å‘¼æ‚¨ï¼Ÿ
============================================================

ðŸŽ¤ [æ­£åœ¨å›žç­”...] [è¯­éŸ³ç»“æŸ]
ðŸ‘¤ å®¢æˆ·å›žç­”: æˆ‘å«å¼ æ˜Ž
âœ… å·²è®°å½•å›žç­”
```

**4. åŽç»­é—®é¢˜**
```
============================================================
ðŸ“ è¿›åº¦: 2/10
ðŸ¤– æé—®: æ„Ÿè°¢å‚ä¸Žæˆ‘ä»¬çš„è°ƒç ”ï¼è¯·é—®æ‚¨ä½¿ç”¨æˆ‘ä»¬çš„äº§å“å¤šé•¿æ—¶é—´äº†ï¼Ÿ
============================================================

ðŸŽ¤ [æ­£åœ¨å›žç­”...] [è¯­éŸ³ç»“æŸ]
ðŸ‘¤ å®¢æˆ·å›žç­”: å¤§æ¦‚ä¸‰ä¸ªæœˆå·¦å³
âœ… å·²è®°å½•å›žç­”

...ï¼ˆç»§ç»­å‰©ä½™é—®é¢˜ï¼‰
```

**5. å®Œæˆè®¿è°ˆ**
```
============================================================
âœ… è®¿è°ˆå·²å®Œæˆï¼
============================================================

ðŸ¤– AI: éžå¸¸æ„Ÿè°¢æ‚¨çš„å®è´µæ„è§ï¼æ‚¨çš„åé¦ˆå°†å¸®åŠ©æˆ‘ä»¬åšå¾—æ›´å¥½...

ðŸ’¾ ä¼šè¯è®°å½•å·²ä¿å­˜: sessions/20241118_143052/session.json
ðŸ“„ æ–‡æœ¬æ‘˜è¦å·²ä¿å­˜: sessions/20241118_143052/summary.txt

ðŸ›‘ æ­£åœ¨åœæ­¢...
ðŸ‘‹ è®¿è°ˆå·²ç»“æŸ
```

### æŸ¥çœ‹è®°å½•
```bash
# æŸ¥çœ‹æ–‡æœ¬æ‘˜è¦
cat sessions/20241118_143052/summary.txt
```

**è¾“å‡ºï¼š**
```
============================================================
å®¢æˆ·è®¿è°ˆè®°å½•
ä¼šè¯ID: 20241118_143052
å¼€å§‹æ—¶é—´: 2024-11-18 14:30:52
ç»“æŸæ—¶é—´: 2024-11-18 14:38:15
æ€»æ—¶é•¿: 443 ç§’
============================================================

ã€é—®é¢˜ 1ã€‘
æ‚¨å¥½ï¼æˆ‘æ˜¯äº§å“ä½“éªŒè°ƒç ”åŠ©æ‰‹ã€‚é¦–å…ˆè¯·é—®ï¼Œæˆ‘å¯ä»¥æ€Žä¹ˆç§°å‘¼æ‚¨ï¼Ÿ

ã€å›žç­”ã€‘
æˆ‘å«å¼ æ˜Ž

------------------------------------------------------------

ã€é—®é¢˜ 2ã€‘
æ„Ÿè°¢å‚ä¸Žæˆ‘ä»¬çš„è°ƒç ”ï¼è¯·é—®æ‚¨ä½¿ç”¨æˆ‘ä»¬çš„äº§å“å¤šé•¿æ—¶é—´äº†ï¼Ÿ

ã€å›žç­”ã€‘
å¤§æ¦‚ä¸‰ä¸ªæœˆå·¦å³

------------------------------------------------------------
```

---

## åœºæ™¯äºŒï¼šå®¢æœè´¨é‡å›žè®¿

### å‡†å¤‡å·¥ä½œ
```bash
# ä½¿ç”¨æœåŠ¡è¯„ä»·æ¨¡æ¿
cp examples/service_evaluation.yaml questions.yaml

# ç¼–è¾‘é…ç½®ï¼ˆå¯é€‰ï¼‰
vim questions.yaml
```

### è‡ªå®šä¹‰æ¬¢è¿Žè¯­
```yaml
settings:
  welcome_message: "æ‚¨å¥½ï¼Œæˆ‘æ˜¯XXå…¬å¸çš„å›žè®¿ä¸“å‘˜ã€‚ä¸Šå‘¨æ‚¨è”ç³»è¿‡æˆ‘ä»¬çš„å®¢æœï¼Œæƒ³äº†è§£ä¸€ä¸‹æ‚¨çš„ä½“éªŒå¦‚ä½•ã€‚"
```

### è¿è¡Œ
```bash
./scripts/interview.sh
```

### å…¸åž‹å¯¹è¯æµç¨‹
```
ðŸ¤–: æ‚¨å¥½ï¼Œæˆ‘æ˜¯XXå…¬å¸çš„å›žè®¿ä¸“å‘˜...

ðŸ“ è¿›åº¦: 1/9
ðŸ¤–: è¯·é—®æ‚¨æœ€è¿‘æœ‰è”ç³»è¿‡æˆ‘ä»¬çš„å®¢æœå—ï¼Ÿ
ðŸ‘¤: æœ‰çš„ï¼Œä¸Šå‘¨è”ç³»è¿‡

ðŸ“ è¿›åº¦: 2/9
ðŸ¤–: è¯·é—®æ‚¨æ˜¯é€šè¿‡ä»€ä¹ˆæ¸ é“è”ç³»å®¢æœçš„ï¼Ÿ
ðŸ‘¤: æˆ‘æ˜¯æ‰“ç”µè¯è”ç³»çš„

ðŸ“ è¿›åº¦: 3/9
ðŸ¤–: æ‚¨å½“æ—¶é‡åˆ°çš„æ˜¯ä»€ä¹ˆé—®é¢˜ï¼Ÿ
ðŸ‘¤: äº§å“æ— æ³•ç™»å½•ï¼Œä¸€ç›´æç¤ºå¯†ç é”™è¯¯

...
```

### æ•°æ®åˆ†æž
```bash
# æŸ¥çœ‹ JSON æ•°æ®ï¼ˆä¾¿äºŽç¨‹åºå¤„ç†ï¼‰
cat sessions/20241118_150032/session.json | python3 -m json.tool

# æå–æ‰€æœ‰å›žç­”
cat sessions/20241118_150032/session.json | \
  python3 -c "import json, sys; d=json.load(sys.stdin); \
  print('\n\n'.join([a['transcript'] for a in d['answers']]))"
```

---

## åœºæ™¯ä¸‰ï¼šæ–°åŠŸèƒ½éœ€æ±‚è°ƒç ”

### å¿«é€Ÿå®šåˆ¶
```bash
# ä»Žæ¨¡æ¿å¼€å§‹
cp examples/requirement_survey.yaml questions.yaml

# æ·»åŠ ä½ çš„ç‰¹å®šé—®é¢˜
cat >> questions.yaml << 'EOF'
  - id: 11
    question: "æ‚¨å¯¹AIåŠŸèƒ½æ„Ÿå…´è¶£å—ï¼Ÿ"
    type: "yesno"
  - id: 12
    question: "æ‚¨å¸Œæœ›AIå¸®æ‚¨åšä»€ä¹ˆï¼Ÿ"
    type: "open"
EOF
```

### æ‰¹é‡è®¿è°ˆ
```bash
# åˆ›å»ºæ‰¹é‡è„šæœ¬
cat > batch_interview.sh << 'EOF'
#!/bin/bash
for i in {1..5}; do
  echo "å¼€å§‹ç¬¬ $i æ¬¡è®¿è°ˆ"
  uv run python interview_client.py
  echo "å®Œæˆç¬¬ $i æ¬¡è®¿è°ˆï¼Œç­‰å¾… 30 ç§’..."
  sleep 30
done
EOF

chmod +x batch_interview.sh
./batch_interview.sh
```

---

## åœºæ™¯å››ï¼šæ–°å‘˜å·¥å…¥èŒè®¿è°ˆ

### ä½¿ç”¨æ¨¡æ¿
```bash
cp examples/employee_onboarding.yaml questions.yaml
```

### HR éƒ¨é—¨å®šåˆ¶
```yaml
# ç¼–è¾‘ questions.yamlï¼Œæ·»åŠ å…¬å¸ç‰¹å®šé—®é¢˜
questions:
  # ... é»˜è®¤é—®é¢˜ ...
  
  - id: 10
    question: "æ‚¨äº†è§£å…¬å¸çš„æ ¸å¿ƒä»·å€¼è§‚å—ï¼Ÿ"
    type: "yesno"
    
  - id: 11
    question: "å…¥èŒæ‰‹ç»­åŠžç†è¿‡ç¨‹é¡ºåˆ©å—ï¼Ÿ"
    type: "open"
    
  - id: 12
    question: "æ‚¨å¯¹åŸ¹è®­è®²å¸ˆçš„è¯„ä»·å¦‚ä½•ï¼Ÿ"
    type: "open"

settings:
  welcome_message: "æ¬¢è¿ŽåŠ å…¥XXç§‘æŠ€ï¼æˆ‘æ˜¯HRåŠ©æ‰‹ï¼Œæƒ³äº†è§£æ‚¨çš„å…¥èŒä½“éªŒ..."
  completion_message: "æ„Ÿè°¢åé¦ˆï¼æœ‰ä»»ä½•é—®é¢˜éšæ—¶è”ç³»HRéƒ¨é—¨ã€‚å·¥å·ï¼š8888"
```

### å®šæ—¶æé†’
```bash
# åˆ›å»º cron ä»»åŠ¡ï¼Œå…¥èŒç¬¬7å¤©è‡ªåŠ¨æé†’
# ç¼–è¾‘ crontab
crontab -e

# æ·»åŠ ï¼ˆæ¯å¤©æ£€æŸ¥æ–°å‘˜å·¥åˆ—è¡¨ï¼‰
0 10 * * * cd /Users/town/code4/questionAgent && ./remind_interview.sh
```

---

## åœºæ™¯äº”ï¼šè‡ªå®šä¹‰ç®€å•è°ƒæŸ¥

### æœ€å°åŒ–é…ç½®
```yaml
# åˆ›å»º simple_survey.yaml
questions:
  - id: 1
    question: "ä»Šå¤©å¿ƒæƒ…æ€Žä¹ˆæ ·ï¼Ÿ"
    type: "open"
    
  - id: 2
    question: "å·¥ä½œé¡ºåˆ©å—ï¼Ÿ"
    type: "yesno"
    
  - id: 3
    question: "æœ‰ä»€ä¹ˆéœ€è¦å¸®åŠ©çš„å—ï¼Ÿ"
    type: "open"

settings:
  welcome_message: "ä½ å¥½ï¼ç®€å•èŠå‡ å¥å§ã€‚"
  completion_message: "å¥½çš„ï¼Œä¿é‡ï¼"
  save_transcript: true
```

### ä½¿ç”¨è‡ªå®šä¹‰é…ç½®
```bash
# æ–¹å¼ä¸€ï¼šæ›¿æ¢é»˜è®¤é…ç½®
cp simple_survey.yaml questions.yaml
uv run python interview_client.py

# æ–¹å¼äºŒï¼šä¿®æ”¹ä»£ç æ”¯æŒå‚æ•°ï¼ˆé«˜çº§ï¼‰
# ç¼–è¾‘ interview_client.py çš„ main() å‡½æ•°
# æ·»åŠ å‘½ä»¤è¡Œå‚æ•°æ”¯æŒ
```

---

## ðŸ”§ é«˜çº§æŠ€å·§

### 1. æ ¹æ®å›žç­”è·³è¿‡é—®é¢˜ï¼ˆéœ€è¦ä»£ç ä¿®æ”¹ï¼‰

```python
# åœ¨ interview_client.py çš„ _ask_question æ–¹æ³•ä¸­
if self.current_transcript.lower() in ['ä¸éœ€è¦', 'no', 'æ²¡æœ‰']:
    print("â­ï¸  è·³è¿‡åŽç»­ç›¸å…³é—®é¢˜")
    self.question_manager.current_index += 2  # è·³è¿‡2ä¸ªé—®é¢˜
```

### 2. å®žæ—¶ä¿å­˜ï¼ˆé˜²æ­¢ä¸­æ–­ä¸¢å¤±æ•°æ®ï¼‰

```python
# åœ¨ _receive_loop ä¸­çš„è½¬å†™å®Œæˆäº‹ä»¶
elif event_type == "conversation.item.input_audio_transcription.completed":
    transcript = event.get("transcript", "")
    if transcript and self.waiting_for_answer:
        # ç«‹å³ä¿å­˜
        self.session_recorder.add_answer(...)
        self.session_recorder.save_session()  # å®žæ—¶ä¿å­˜
```

### 3. å¤šè¯­è¨€æ”¯æŒ

```yaml
# questions_en.yaml
questions:
  - id: 1
    question: "What's your name?"
    type: "open"

settings:
  welcome_message: "Hello! Thank you for participating..."
  completion_message: "Thank you very much!"
```

### 4. åˆ†æžè®¿è°ˆæ•°æ®

```python
# analyze_sessions.py
import json
from pathlib import Path
from collections import Counter

sessions_dir = Path("sessions")
all_answers = []

for session_file in sessions_dir.glob("*/session.json"):
    with open(session_file) as f:
        data = json.load(f)
        all_answers.extend([a['transcript'] for a in data['answers']])

# ç»Ÿè®¡å¸¸è§è¯æ±‡
words = ' '.join(all_answers).split()
common_words = Counter(words).most_common(20)
print("æœ€å¸¸è§çš„è¯ï¼š", common_words)
```

---

## ðŸ“Š å®žé™…ä½¿ç”¨æŠ¥å‘Šç¤ºä¾‹

### æŠ¥å‘Šç”Ÿæˆè„šæœ¬

```python
# generate_report.py
import json
from pathlib import Path
from datetime import datetime

def generate_report(session_id):
    session_dir = Path(f"sessions/{session_id}")
    with open(session_dir / "session.json") as f:
        data = json.load(f)
    
    report = f"""
# è®¿è°ˆæŠ¥å‘Š

**ä¼šè¯ID**: {data['session_id']}  
**è®¿è°ˆæ—¶é—´**: {data['start_time']}  
**æ€»æ—¶é•¿**: {data['duration_seconds']} ç§’  
**å®Œæˆé—®é¢˜æ•°**: {data['total_questions']}

## é—®ç­”è®°å½•

"""
    for i, answer in enumerate(data['answers'], 1):
        report += f"### é—®é¢˜ {i}\n"
        report += f"**Q**: {answer['question_text']}\n\n"
        report += f"**A**: {answer['transcript']}\n\n"
    
    # ä¿å­˜æŠ¥å‘Š
    with open(session_dir / "report.md", 'w', encoding='utf-8') as f:
        f.write(report)
    
    print(f"âœ… æŠ¥å‘Šå·²ç”Ÿæˆ: {session_dir / 'report.md'}")

# ä½¿ç”¨
generate_report("20241118_143052")
```

---

## ðŸ’¡ æœ€ä½³å®žè·µ

### 1. é—®é¢˜è®¾è®¡
- âœ… æ¯ä¸ªé—®é¢˜æ¸…æ™°æ˜Žç¡®
- âœ… ä½¿ç”¨å£è¯­åŒ–è¡¨è¾¾
- âœ… æŽ§åˆ¶é—®é¢˜æ•°é‡ï¼ˆ10-15ä¸ªä¸ºå®œï¼‰
- âœ… æŒ‰é€»è¾‘é¡ºåºæŽ’åˆ—
- âŒ é¿å…å¤åˆé—®é¢˜
- âŒ é¿å…è¿‡äºŽä¸“ä¸šçš„æœ¯è¯­

### 2. è®¿è°ˆçŽ¯å¢ƒ
- âœ… å®‰é™çš„çŽ¯å¢ƒ
- âœ… æå‰æµ‹è¯•éŸ³é¢‘è®¾å¤‡
- âœ… ç½‘ç»œè¿žæŽ¥ç¨³å®š
- âœ… å‡†å¤‡å¤‡ç”¨æ–¹æ¡ˆ

### 3. æ•°æ®ç®¡ç†
- âœ… å®šæœŸå¤‡ä»½ sessions ç›®å½•
- âœ… ä¸ºä¸åŒé¡¹ç›®åˆ›å»ºå­ç›®å½•
- âœ… åŠæ—¶åˆ†æžæ•°æ®
- âœ… ä¿æŠ¤å®¢æˆ·éšç§

### 4. æ•ˆæžœä¼˜åŒ–
- è°ƒæ•´ VAD å‚æ•°é€‚åº”ä¸åŒå£éŸ³
- ä½¿ç”¨åˆé€‚çš„æ¨¡åž‹ï¼ˆé€Ÿåº¦ vs è´¨é‡ï¼‰
- åœ¨é—®é¢˜é—´æ·»åŠ é€‚å½“åœé¡¿
- æ ¹æ®åé¦ˆæŒç»­æ”¹è¿›é—®é¢˜åˆ—è¡¨

---

**æ›´å¤šå¸®åŠ©**: æŸ¥çœ‹ [README.md](README.md) å’Œ [QUICKSTART.md](QUICKSTART.md)

